// scripts/casino.min.js
var Casino=Casino||{};!function(i,e){function t(){this.SIDE_COUNT=6,this.value=this._generateRandomValue()}function n(i){this.DieFactory=i,this.dice=[]}function a(){this.DIE_CLASS_NAME="die",this.DICE_CONTAINER_NAME=".dice",this.diceContainer=i(this.DICE_CONTAINER_NAME)}function c(i,e){this.game=i,this.display=e}i(function(){e.Dealer.start()}),t.prototype={roll:function(){this.value=this._generateRandomValue()},_generateRandomValue:function(){return Math.floor(Math.random()*this.SIDE_COUNT+1)}},n.prototype={addDie:function(){this.dice.push(new this.DieFactory)},rollDice:function(){var i,e=this.dice.length;for(i=0;e>i;i++){var t=this.dice[i];t.roll()}},clearDice:function(){this.dice=[]}},a.prototype={dieTemplate:function(i){return"<div class='"+this.DIE_CLASS_NAME+"'><img src='images/"+i+"-die.png'></div>"},compileDiceTemplate:function(i){var e,t="",n=i.length;for(e=0;n>e;e++){var a=i[e];t+=this.dieTemplate(a.value)}return t},render:function(i){this.diceContainer.html(this.compileDiceTemplate(i))}},c.prototype={start:function(){this.bindEventListeners()},addDie:function(){this.game.addDie(),this.updateView()},rollDice:function(){this.game.rollDice(),this.updateView()},clearDice:function(){this.game.clearDice(),this.updateView()},updateView:function(){this.display.render(this.game.dice)},bindEventListeners:function(){i(".add").on("click",this.addDie.bind(this)),i(".roll").on("click",this.rollDice.bind(this)),i(".clear").on("click",this.clearDice.bind(this))}},e.DieFactory=t,e.Game=new n(e.DieFactory),e.Display=new a,e.Dealer=new c(e.Game,e.Display)}(jQuery,Casino);